use TimerIO, Timer

public module Timer {
  in buttonA : Bool,
     buttonB : Bool,
     buttonC : Bool,
     pulse1s : Bool
  out mode : Int,
      hour : Int,
      min  : Int,
      sec  : Int

  node button = ButtonPressed(buttonA,buttonB,buttonC)

  new core = TimerCore <- button, pulse1s

  output node mode = case core.mode of Up -> 0; Down -> 1;

  output node hour = case core.display of Display(h, _, _) -> h;
  output node min = case core.display of Display(_, m, _) -> m;
  output node sec = case core.display of Display(_, _, s) -> s;
}
